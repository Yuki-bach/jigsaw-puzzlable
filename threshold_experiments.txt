=== ジグソーパズルマッチング 閾値実験結果 ===
実験日時: 2025年1月6日
総ピース数: 249個

================================================
閾値実験結果サマリー
================================================

実験1: 閾値 0.75
-----------------
- 発見されたマッチ数: 43,865
- 形成されたグループ数: 1
- グループ内訳:
  - グループ1: 249個（全ピース）
- 処理時間: 114.81秒
- 備考: 閾値が低すぎて、ほぼ全てのピースが互いにマッチしてしまった

実験2: 閾値 0.85
-----------------
- 発見されたマッチ数: 39,206
- 形成されたグループ数: 1
- グループ内訳:
  - グループ1: 247個
- 処理時間: 128.48秒
- 備考: まだ閾値が低く、ほとんどのピースが1つのグループに

実験3: 閾値 0.95
-----------------
- 発見されたマッチ数: 25,603
- 形成されたグループ数: 3
- グループ内訳:
  - グループ1: 198個（メイングループ）
  - グループ2: 3個（piece_097, piece_100, piece_101）
  - グループ3: 2個（piece_002, piece_014）
- 処理時間: 150.20秒
- 備考: グループが分離し始めた

実験4: 閾値 0.98
-----------------
- 発見されたマッチ数: 9,446
- 形成されたグループ数: 5
- グループ内訳:
  - グループ1: 174個（メイングループ）
  - グループ2: 5個（piece_237, piece_238, piece_241, piece_245, piece_248）
  - グループ3: 3個（piece_205, piece_207, piece_216）
  - グループ4: 2個（piece_002, piece_014）
  - グループ5: 2個（piece_234, piece_247）
- 処理時間: 158.86秒
- 備考: 仕様書の成功基準「5グループ」を達成

実験5: 閾値 0.99（最終）
------------------------
- 発見されたマッチ数: 3,196
- 形成されたグループ数: 5
- グループ内訳:
  - グループ1: 170個（メイングループ）
  - グループ2: 2個（piece_237, piece_241）
  - グループ3: 2個（piece_238, piece_245）
  - グループ4: 2個（piece_188, piece_189）
  - グループ5: 2個（piece_002, piece_014）
- 処理時間: 116.88秒
- 備考: 最も厳密なマッチングで、4つの2ピースペアを発見

================================================
分析と考察
================================================

1. 閾値とグループ形成の関係
   - 閾値0.75-0.85: ほぼ全てのピースが1グループに
   - 閾値0.95: 3グループに分離開始
   - 閾値0.98-0.99: 5グループに分離、小さなペアが形成

2. マッチング精度
   - 低い閾値（0.75）: 43,865マッチ → 過剰マッチング
   - 高い閾値（0.99）: 3,196マッチ → 厳密なマッチング
   - マッチ数は閾値に対して指数関数的に減少

3. 実用的な閾値
   - 0.98-0.99が最も実用的
   - 確実性の高い小グループを形成
   - メイングループは依然として大きいが、これは白色ピースの
     特性（形状の類似性）による可能性が高い

4. 今後の改善点
   - 空間的整合性チェックの追加
   - グループサイズ制限の導入
   - エッジ形状のより詳細な分析
   - 機械学習モデルの導入検討

================================================
結論
================================================

MVPとして、閾値0.98-0.99で仕様書の要求を満たす結果を達成。
白色の無地ピースという難しい条件下で、複数の2ピースペアを
発見することに成功した。